\section*{Хеширование}
\begin{enumerate}
	\item Семейство хэш-функций $\mathcal{H} = \{h : X \rightarrow Y \}$ называется универсальным, если:
	
	\begin{equation*}
	\forall x_1, x_2 \in X, x_1 \neq x_2 : \underset{h \in \mathcal{H}}{\mathbf{Pr}} \left[h(x_1) = h(x_2)\right] 
	\leqslant \frac{1}{|Y|}
	\end{equation*}
	
	Семейство хэш-функций $\mathcal{H} = \{h : X \rightarrow Y \}$ называется $k$-независимым, если для любых 
	различных $x_1, x_2, \cdots , x_k \in X$, для любых, возможно совпадающих, выполняется: $y_1, y_2, \cdots, 
	y_k \in Y$
	
	\begin{equation*}
	 \underset{h \in \mathcal{H}}{\mathbf{Pr}} \left[\bigwedge\limits_{i = 1}^{k} h(x_i) = y_i\right] = 
	 \frac{1}{|Y|^k}
	\end{equation*}
		
	\begin{enumerate}
		\item Докажите, что из любое 2-независимое семейство хэш-функций является универсальным.
		\item Докажите, что любое $k + 1$-независимое семейство хэш-функций является $k$-независимым.
	\end{enumerate}
	
	
	\item В вашем распоряжении есть пара 2-независимых семейств хеш-функций $\mathcal{A} = \{f : A \rightarrow 
	F_2^n \}$ и $\mathcal{B} = \{g : B \rightarrow F_2^n \}$. Постройте (и докажите, что построено правильно) 
	универсальное семейство хеш-функций, которое:
	\begin{enumerate}
		\item будет отправлять пары типа $(A, B)$ в $F_2^n$,
		\item будет отправлять мультимножества из элементов типа $A$ в $F_2^n$,
		\item будет отправлять множества из элементов типа $A$ в $F$,
		\item будет отправлять списки из элементов типа $A$ в $F_2^n$.
	\end{enumerate}
	
	\item Используя функцию из задания 10 с практики, постройте семейство 2-независимых хэш-функций $\mathcal{H} 
	= \{h_i: \mathbb{F}^n_2 \rightarrow \mathbb{F}^n_2\}_i$ Докажите, что семейство является 2-независимым.
		
	\item[4*.] Пусть дана хэш-таблица размера $n$ с хэш-функцией $h : K \rightarrow [n]$. На вход поступает $n$ 
	ключей. Будем предполагать, что хэш-функция отправляет каждый ключ в каждую ячейку независимо с равной 
	вероятностью. Коллизии разрешаются с помощью односвязных списков, цепочек. Посчитаем максимальную длину 
	цепочки.
	
	\begin{enumerate}
		\item Зафиксируем хэш-значение $x$. Доказать, что вероятность, что $k$ ключей будут иметь хэш $x$ 
		составляет
		
		\begin{equation*}
			Q_k = \binom{n}{k}\cdot \left( \frac{1}{n} \right)^k \cdot \left(1 - \frac{1}{n} \right)^{n-k}
		\end{equation*}
		
		\item Пусть $P_k$ – вероятность максимальной цепочки иметь длину $k$. Доказать, что $P_k \leqslant n 
		\cdot Q_k$.
		
		\item Вывести из Стрилинга, что $Q_k \le \left(\dfrac{e}{k}\right)^k$
		\item Показать, что для некоторого $c \ge 1$ верно $Q_k \leqslant c \cdot \dfrac{\log n}{\log \log n}$.
	\end{enumerate}
	
	\item[7.] Пусть мы можем потратить не более 100 байт памяти на предподсчет. Нужно научится по 64-битному 
	числу вида 2 чтение одного байта из предподсчитанных данных. Напишите псевдокод предподсчета и ответа на 
	запрос.
	
	\item[8.] Вам даны два корневых дерева, большое $T$ и маленькое $t$. Требуется найти такую вершину $x$
	дерева $T$, что поддерево, индуцированное вершиной $x$, и $t$ изоморфны.
	
	\begin{enumerate}
		\item При проверке на изоморфизм порядок детей важен,
		
		\item При проверке на изоморфизм порядок детей не важен.
	\end{enumerate}
	
	Решайте в предположении, что у вас есть хорошие хеш-функции для списков.
	
\end{enumerate}


