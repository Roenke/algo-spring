\section*{Деревья и пути}
\begin{enumerate}
	\item Назовем ребро дерева тяжелым, если размер поддерева, его нижнего конца больше либо равен 
	половине размера поддерева его верхнего конца. Покроем дерево путями следующим способом: из 
	каждой вершины, в которую входит тяжелое ребро будем идти вверх, пока не дойдем до корня, или 
	пока не пройдем по тяжелому ребру. Такое покрытие называется 
	\textbf{«Heavy-Light-Decomposition»}. Докажите, что путь из любой вершины в корень пересекает 
	не более чем $\log n$ путей из покрытия, где $n$ — количество вершин.
	
	\item Дано дерево, у каждой вершины есть вес. Запросы: 
	изменить вес вершины; 
	найти максимум на пути из $u$ в $v$. $\langle O(n \log n)$, $O(\log_2 n) \rangle$. 
	
	Hint: предыдущая задача.
	
	\item Даны подвешенное дерево и его Эйлеров обход. Придумайте, как за $O(\log n)$ обновить 
	Эйлеров	обход при переподвешивании дерева за другую вершину (для разных вариантов обхода).
	
	\item Пусть есть много неподвешенных деревьев. Запросы \textit{online}:
	\begin{itemize}
		\item соединить ребром вершины $v$ и $u$ разных деревьев,
		\item удалить ребро между вершинами $v$ и $u$,
		\item проверить, в одной ли компоненте лежат вершины $u$ и $v$.
	\end{itemize}

	$O(n)$ на предобработку, $O(\log n)$ на запрос ($n$ — суммарный размер деревьев).
	
	\item Дано дерево из n вершин, по которому бегают муравьи. Вам поступает $m$
	запросов вида $a, b$, что означает, что очередной муравей пробежал из вершины $a$ в вершину 
	$b$.
	
	\begin{enumerate}
		\item Выведите, сколько раз муравьи пробежали через каждое из ребер за $O(n + m)$.
		\item А теперь вам онлайн поступают вопросы про каждое из ребер (эти запросы могут поступить в любой момент, в том числе до окончания муравьиных пробегов). Обработайте каждый из двух типов запросов за $log_2 n$ с предподсчетом за $O(n \log n)$.
	\end{enumerate}
\end{enumerate}


